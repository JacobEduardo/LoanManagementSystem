
CREATE TABLE `CLIENT`
(
 `ID_CLIENT` int NOT NULL AUTO_INCREMENT ,
 `RUT`       varchar(45) NOT NULL ,
 `NAME`      varchar(45) NOT NULL ,
 `KIND`      varchar(45) NOT NULL ,
 `STATUS`    tinyint NOT NULL ,

PRIMARY KEY (`ID_CLIENT`)
);


CREATE TABLE `LOCATION`
(
 `ID_LOCATION` int NOT NULL AUTO_INCREMENT ,
 `NAME`        varchar(45) NOT NULL ,

PRIMARY KEY (`ID_LOCATION`)
);

CREATE TABLE `USER`
(
 `ID_USER`     int NOT NULL AUTO_INCREMENT ,
 `NAME`        varchar(45) NOT NULL ,
 `RUT`         varchar(45) NOT NULL ,
 `PERMITIS`    varchar(45) NOT NULL ,
 `ID_LOCATION` int NOT NULL ,

PRIMARY KEY (`ID_USER`),
KEY `fkIdx_72` (`ID_LOCATION`),
CONSTRAINT `FK_71` FOREIGN KEY `fkIdx_72` (`ID_LOCATION`) REFERENCES `LOCATION` (`ID_LOCATION`)
);


CREATE TABLE `GOODS`
(
 `ID_GOODS`         int NOT NULL AUTO_INCREMENT ,
 `NAME`             varchar(45) NOT NULL ,
 `VALUE`            int NOT NULL ,
 `LOAN_STATUS`      tinyint NOT NULL ,
 `DESCRIPTION`      text NOT NULL ,
 `CODE`             varchar(45) NOT NULL ,
 `INVENTORY_STATUS` tinyint NOT NULL ,
 `ID_LOCATION`      int NOT NULL ,

PRIMARY KEY (`ID_GOODS`),
KEY `fkIdx_69` (`ID_LOCATION`),
CONSTRAINT `FK_68` FOREIGN KEY `fkIdx_69` (`ID_LOCATION`) REFERENCES `LOCATION` (`ID_LOCATION`)
);


CREATE TABLE `LOAN_HISTORY`
(
 `ID_HISTORY`    int NOT NULL AUTO_INCREMENT ,
 `DATE_START`    date NOT NULL ,
 `ID_GOODS`      int NOT NULL ,
 `ID_USER_START` int NOT NULL ,
 `ID_CLIENT`     int NOT NULL ,
 `DATE_END`      date NOT NULL ,
 `STATUS`        tinyint NOT NULL ,
 `ID_USER_END`   int NOT NULL ,

PRIMARY KEY (`ID_HISTORY`),
KEY `fkIdx_35` (`ID_GOODS`),
CONSTRAINT `FK_34` FOREIGN KEY `fkIdx_35` (`ID_GOODS`) REFERENCES `GOODS` (`ID_GOODS`),
KEY `fkIdx_39` (`ID_USER_START`),
CONSTRAINT `FK_38` FOREIGN KEY `fkIdx_39` (`ID_USER_START`) REFERENCES `USER` (`ID_USER`),
KEY `fkIdx_43` (`ID_CLIENT`),
CONSTRAINT `FK_42` FOREIGN KEY `fkIdx_43` (`ID_CLIENT`) REFERENCES `CLIENT` (`ID_CLIENT`),
KEY `fkIdx_75` (`ID_USER_END`),
CONSTRAINT `FK_74` FOREIGN KEY `fkIdx_75` (`ID_USER_END`) REFERENCES `USER` (`ID_USER`)
);